Better type error location in presence of constraints